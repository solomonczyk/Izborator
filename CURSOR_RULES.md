# CURSOR RULES — Правила для Cursor и AI

## 1. Запрещено выходить за пределы текущего шага
Cursor обязан:
- проверять ROADMAP_CURRENT_STEP.md
- выполнять только то, что там указано

## 2. Запрещено:
- модифицировать другие модули
- переписывать архитектуру
- добавлять новые файлы
- улучшать код по собственной инициативе
- предлагать решение вне текущего шага

## 3. Cursor должен запрашивать уточнение если:
- задача неконкретна
- отсутствует необходимый контекст
- шаг не совпадает с текущей структурой проекта

## 4. Все действия должны быть минимальными и точечными

## 5. Никаких предположений
Cursor не должен "угадывать", "предвосхищать" или "оптимизировать" заранее.

## 6. Если действие нарушает правила — запрещено
Cursor должен ответить:

"This action violates PROJECT_RULES or ROADMAP_CURRENT_STEP.  
Continuing is not allowed."
## 7. Новое правило:
Cursor должен учитывать, что проект мультиязычный:
- все UI строки должны быть вынесены в i18n сообщения
- никакой текст в JSX/HTML не должен быть “жёстко прописан”
- backend системные сообщения тоже должны использовать переводчик
## 8. 
ТЕКУЩИЙ ЭТАП РАЗРАБОТКИ: 
"End-to-end тест ядра каталога (categories/product_types/attributes/cities) и фильтрации в /browse и /[locale]/catalog".

ДО ЗАВЕРШЕНИЯ ЭТОГО ЭТАПА ТЫ ОБЯЗАН:

1. Работать ТОЛЬКО в рамках этого этапа. 
2. ОГРАНИЧИТЬ изменяемые файлы:
   - backend/internal/products/*
   - backend/internal/categories/*
   - backend/internal/cities/*
   - backend/internal/storage/products_adapter.go
   - backend/internal/http/handlers/products.go
   - backend/internal/http/router/router.go
   - frontend/app/[locale]/catalog/page.tsx
   - frontend/components/* (только для фильтров/каталога)
3. НЕ СОЗДАВАТЬ новые модули, таблицы и фичи, не относящиеся к:
   - фильтрации по категориям/городам,
   - корректной работе /api/v1/products/browse,
   - отображению фильтров на фронтенде.
4. Если какая-то идея выходит за рамки этого этапа:
   - НЕ реализовывать её,
   - вместо этого добавить запись TODO в ROADMAP_NEXT.md (без изменения кода).
5. Перед любыми изменениями:
   - кратко описать, какой именно баг/несоответствие текущему этапу ты исправляешь.
6. После изменений:
   - показать DIFF и коротко описать, как это помогает текущему этапу.

