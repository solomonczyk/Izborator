# Current Step — Backend: Мониторинг парсинга (Приоритет №1)

## Модуль:
backend (Go)

## Цель:
Реализовать систему мониторинга парсинга для отслеживания стабильности обновления цен:
- Создать таблицу для статистики парсинга
- Добавить API endpoints для получения статистики
- Интегрировать логирование статистики в процесс парсинга

## Задача:
- Создать миграцию для таблицы `scraping_stats`
- Реализовать модуль `scrapingstats` (Storage, Service)
- Создать API endpoints: `/api/v1/stats/overall`, `/api/v1/stats/shops/{id}`, `/api/v1/stats/recent`
- Интегрировать запись статистики в scraper при парсинге

## Done when:
- Таблица `scraping_stats` создана и миграция применена
- API endpoints для статистики работают и возвращают корректные данные
- Статистика записывается при каждом парсинге
- Можно получить общую статистику и статистику по магазинам

## Предыдущие шаги (✅ Завершены):
- Страница каталога `/catalog` успешно работает с фильтрами, сортировкой и пагинацией
- Страница детального просмотра `/product/[id]` реализована и протестирована
- График истории цен отображается на странице товара
- Кэширование реализовано для всех популярных endpoints
- Оптимизация производительности завершена

## Следующий шаг:
После мониторинга — добавить retry-логику для парсинга при ошибках

---

## Upcoming Step — Multilingual Support (i18n)

### Модуль:
backend (Go) + frontend (Next.js)

### Цель:
Внедрить мультиязычность для поддержки 5 языков: sr (сербский), ru, hu (венгерский), en, zh (китайский)

### Задачи:

**Backend:**
- Создать модуль `internal/i18n/` с translator.go
- Создать файлы локалей (en.json, sr.json, ru.json, hu.json, zh.json)
- Создать middleware `DetectLanguage` для определения языка
- Интегрировать i18n в HTTP handlers

**Frontend:**
- Установить `next-intl`
- Создать структуру локалей `messages/*.json`
- Реорганизовать routes на `[locale]` структуру
- Перевести все UI строки на i18n

### Важно:
- Доменные модули остаются языконезависимыми
- Локализация только в HTTP слое (backend) и UI (frontend)
- НЕ переводим: имена товаров, brand, технические specs, URL
- Категории переводятся только как UI labels, не как данные
