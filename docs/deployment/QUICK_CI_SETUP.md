# üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD (5 –º–∏–Ω—É—Ç)

## –®–∞–≥ 1: –°–æ–∑–¥–∞–π SSH –∫–ª—é—á –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞

```bash
ssh-keygen -t ed25519 -C "github-actions-server" -f ~/.ssh/github_actions
```

–ù–∞–∂–º–∏ Enter –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã (–ø–∞—Ä–æ–ª—å –Ω–µ –Ω—É–∂–µ–Ω).

## –®–∞–≥ 2: –°–∫–æ–ø–∏—Ä—É–π –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
ssh-copy-id -i ~/.ssh/github_actions.pub root@152.53.227.37
```

–í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑).

## –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

```bash
ssh -i ~/.ssh/github_actions root@152.53.227.37
```

–î–æ–ª–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è **–±–µ–∑ –ø–∞—Ä–æ–ª—è**. –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî –æ—Ç–ª–∏—á–Ω–æ!

## –®–∞–≥ 4: –î–æ–±–∞–≤—å —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub

### –ì–¥–µ –∏—Å–∫–∞—Ç—å:
1. –û—Ç–∫—Ä–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `https://github.com/solomonczyk/Izborator`
2. –ù–∞–∂–º–∏ **Settings** (–≤–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞)
3. –í –ª–µ–≤–æ–º –º–µ–Ω—é: **Secrets and variables** ‚Üí **Actions**
4. –ù–∞–∂–º–∏ **"New repository secret"**

### –°–µ–∫—Ä–µ—Ç 1: `SSH_PRIVATE_KEY`

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:
cat ~/.ssh/github_actions
```

**–°–∫–æ–ø–∏—Ä—É–π –í–ï–°–¨ –≤—ã–≤–æ–¥** (–≤–∫–ª—é—á–∞—è `-----BEGIN` –∏ `-----END`) –∏ –≤—Å—Ç–∞–≤—å –≤ GitHub.

**–ò–º—è —Å–µ–∫—Ä–µ—Ç–∞:** `SSH_PRIVATE_KEY` (–∑–∞–≥–ª–∞–≤–Ω—ã–º–∏!)

### –°–µ–∫—Ä–µ—Ç 2: `SERVER_HOST`

**–ò–º—è —Å–µ–∫—Ä–µ—Ç–∞:** `SERVER_HOST`

**–ó–Ω–∞—á–µ–Ω–∏–µ:**
```
152.53.227.37
```

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å workflow

1. –ü–µ—Ä–µ–π–¥–∏: **Actions** (–≤–≤–µ—Ä—Ö—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
2. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å workflow "Deploy to Production"
3. –ù–∞–∂–º–∏ **"Re-run jobs"** (–µ—Å–ª–∏ –±—ã–ª failed)

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º `git push` –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:
- –û—Ç–∫—Ä–æ–π `https://152.53.227.37` (–∏–ª–∏ `http://152.53.227.37`)
- –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è Izborator

## ‚ùå –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–°–º–æ—Ç—Ä–∏ `CICD_TROUBLESHOOTING.md` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

