Risk Review — Home / Discover (v1.0)

1) Архитектурные риски
R-1: UI начнёт содержать бизнес-логику

Симптомы

“если tenant такой — покажем другое”

“если фасеты есть — покажем карточку”

сбор сложных query params на фронте

Последствия

тяжело поддерживать

ломается при добавлении доменов/тенантов

Митигирование

Home получает готовый HomeModel (cards + href)

UI только рендерит

все правила выбора карточек — конфиг/бэк

R-2: Multi-tenant расхождение данных (кросс-тенант)

Симптомы

фронт берёт tenant “из env”

tenant не прокинут в home API

кеш без ключа tenant

Последствия

пользователь видит чужие категории/витрину

Митигирование

tenant_id обязателен в /api/v1/home

кеш key по tenant+locale

логирование tenant на уровне API

R-3: Дизайн-спеки “плывут”

Симптомы

магические числа в компонентах

разные easing/durations в разных местах

Последствия

UI становится неряшливым

сложно тюнить

Митигирование

animation tokens

запрет магических чисел

единая шкала spacing/typography

2) UX риски
R-4: Главная перегружена (visual noise)

Симптомы

много карточек

много текста

конкурирующие CTA

Последствия

пользователь “не знает куда смотреть”

Митигирование

правило 3 секунд

один главный CTA (поиск)

6–8 карточек в v1

hint отключаем первым

R-5: Hover-only UX (ломается на mobile/keyboard)

Симптомы

смысл карточки понятен только при hover

нет focus состояния

Последствия

mobile пользователи теряют UX

accessibility провал

Митигирование

hover = усиление, не смысл

focus-visible обязателен

mobile = grid

R-6: Search становится “вторичным”

Симптомы

карточки слишком яркие

поиск теряется на фоне анимаций

Последствия

падает конверсия поиска

UX выглядит игрушечным

Митигирование

HeroSearch самый высокий визуальный вес

карточки нейтральные, accent только на hover

центр всегда stable

3) Performance риски
R-7: FPS проседает из-за mousemove

Симптомы

лаги при движении мыши

input “подтормаживает”

высокий main-thread

Последствия

ощущение “сайт тяжёлый”

пользователи уходят

Митигирование

≤ 12 карточек

transform/opacity only

rAF + throttle

отключение motion через reduced motion

R-8: Layout shift при загрузке данных

Симптомы

карточки прыгают

центр уезжает на мгновение

Последствия

раздражение и недоверие

Митигирование

фиксированные позиции

skeleton в тех же местах

HeroSearch рендерится сразу

4) Product риски
R-9: Категории на главной быстро устаревают

Симптомы

конфиг не обновляют

нет владельца витрины

Последствия

главная выглядит “мертвой”

Митигирование

конфиг редактируемый (domain pack)

простая процедура обновления

позже: персонализация/аналитика

R-10: Неясно, что измерять

Симптомы

спорят на вкусе

“кажется стало лучше”

Последствия

бесконечные редизайны

Митигирование

метрики UX: Time to First Action, CTR карточек, доля поиска

логирование в home endpoint (ms, cards_count)

5) Риск-матрица (кратко)
Риск	Вероятность	Ущерб	Приоритет
R-7 FPS/mousemove	Высокая	Высокий	P0
R-5 Hover-only	Высокая	Высокий	P0
R-1 UI business logic	Средняя	Высокий	P1
R-8 Layout shift	Средняя	Средний	P1
R-4 Overload	Средняя	Средний	P1
R-2 Tenant mismatch	Низкая	Высокий	P1
6) Контрольные “гейты” перед merge (обязательные)

 Keyboard flow проходит

 Mobile grid выглядит норм

 Reduced motion выключает движение

 Нет layout shift на загрузке

 Нет лагов при mousemove

Конец документа
