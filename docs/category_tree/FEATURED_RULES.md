# Featured Categories Rules (Home)

Цель: определить правила выбора категорий для отображения на Home
(центральный поиск + плавающие карточки).

---

## Принципы

1. Home ≠ каталог
2. Featured категории — это entry points, не полный список
3. Выбор должен быть:
   - детерминированным
   - объяснимым
   - независимым от UI

---

## Источник данных

- Используется canonical_tree_v1.json
- Никакие raw-деревья напрямую не используются
- UI получает уже готовый список

---

## Уровень категорий

- Featured категории выбираются **только из L1 и L2**
- L3 никогда не показываются на Home

---

## Ограничения

- Минимум: 6 категорий
- Максимум: 8 категорий (v1)
- Primary категорий: 2–4
- Категории с флагом `hidden_on_home` исключаются

---

## Приоритеты выбора

### Шаг 1 — Исключения
- исключить `restricted`
- исключить `hidden_on_home`
- исключить `needs_review`

### Шаг 2 — Базовый набор
Предпочтение категориям:
- с широкой пользовательской аудиторией
- с понятным назначением
- с большим ассортиментом

Примеры:
- Elektronika
- Odeća i obuća
- Kuća i bašta
- Sport i rekreacija

---

### Шаг 3 — Баланс
Набор должен быть сбалансирован:
- не только техника
- не только lifestyle
- не более 1 “пограничной” категории

---

## Ручные решения (v1 допустимо)

В v1 допускается:
- ручное закрепление списка featured категорий
- явное указание порядка

Это решение документируется.

---

## Output формат (для Home API)

```json
{
  "featured_categories": [
    {
      "category_id": "elektronika",
      "priority": "primary",
      "order": 1
    },
    {
      "category_id": "odeca-i-obuca",
      "priority": "primary",
      "order": 2
    },
    {
      "category_id": "kuca-i-basta",
      "priority": "secondary",
      "order": 3
    }
  ]
}

Definition of Done

Правила считаются внедрёнными, если:

можно объяснить, почему каждая категория попала на Home

UI не принимает решений о составе

список можно менять без рефакторинга


---

### Когда сделаешь
Напиши просто **«готово»**.

Следующий шаг будет **Шаг 25 — HomeModel v2 (интеграция featured + search)**  
финальная сборка данных для главной страницы.
