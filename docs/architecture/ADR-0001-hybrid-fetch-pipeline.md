# ADR-0001: ????????? ????????? ???????? ? ???????? (Static -> JSON-LD/XHR -> Headless)

**??????:** proposed  
**????:** 2025-12-31

## ????????
- Discovery ?????????????? ?? ????? ???????; ????? ?????? ???????????? ??? ??????????.
- ??????????? ??????? ?? ????????? ??????? (0 links, 403).
- AutoConfig ?????????? ????????? ?? ??????? ? ???? false positive.

## ???????
??????? ????????? fetch-???????? ? ?????????????? ???? ????? ? fallback:
1. Static HTML fetch (Colly) + ?????????? JSON-LD/meta.
2. API-first path ??? ??????? XHR/JSON endpoints ??? sitemap.
3. Headless browser ??? fallback ??? dynamic/blocked.

## ????????????? ????????
- A: ???????? ?????? ??????????? ?????? ? ?????? ?????????.
- B: ?????? headless.
- C: ?????? (??????).

## ???????????
- + ????????? ?????? ? ????????????.
- + ??????????? ?????????????? discovery ??? ?????? ????????? ??????? ??????.
- - ????? ???? ?????????????? (headless worker), ???? ????????? ? ???????????.
- - ????????? ??????, ??? ? ???????.

## ????????????? ???????
- ???????? ????????? `Fetcher` (????????? Document) ? domain.
- ??????????: static, api, headless - ?? ?????? drivers/adapters.
- ????????? ?????????? ?? ?????? ???????? (????????, `fetch_mode`) ? ?? ????????? ? HTTP ????.

## ????? ? ????????
- ??????????/???????? ??????????? - ????????? robots/ToS.
- ???? ???????? - ?????? per-domain, backoff, ?????.
- ????: ????-???? + ??????????? rollout ?? ???????.

## ???????? ???????
- ??? ??????????? `fetch_mode`: ?????? override vs ????-??????????????
- ??? ??????? ???: Redis vs S3/????????? ??????????
- ???????? ?????? ? ???????????? IP.
